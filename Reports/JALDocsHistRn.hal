globalprocedure JALFileHistRn(record RCVc RepSpec)begin  record JALFileVc JFr;  record JALFileHistVc JFHr;  boolean TrHs;  integer cnt;  StartReportJob(UsetStr(32450));  Header(1,UsetStr(32451) & " " & RepSpec.f1,1);  EndHeader;  SetRepCol(2,10);  SetRepCol(3,60);  SetRepCol(4,110);  StartFormat(15);  OutString(2,0,UsetStr(7274),false);  OutString(3,0,UsetStr(7106),false);  OutString(4,0,UsetStr(32452),false);  EndFormat;  StartFormat(1);  Gray_Divider(0,1);  EndFormat;  JFHr.DocSerNr = StringToLongint(RepSpec.f1);  TrHs = true;  ResetLoop(JFHr);  cnt = 0;  while loopkey("DocDate",JFHr,1,TrHs) begin    if StringToLongInt(RepSpec.f1)<> JFHr.DocSerNr then begin      TrHs = false;    end else begin      cnt = cnt + 1;      Startformat(15);      OutString(2,0,JFHr.TransDate,false);      OutString(3,0,JFHr.TransTime,false);      OutString(4,0,UsetStr(32400+JFHr.Status),false);      endFormat;    end;      end;  if cnt == 0 then begin      Startformat(15);      OutString(2,0,USetStr(32454),false);      endFormat;  end;  EndJob;return;end;